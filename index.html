<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Forge AI | Professional Edition</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        :root { --primary: #0f172a; --accent: #38bdf8; --border: #e2e8f0; --bg: #f8fafc; --danger: #ef4444; }
        body { margin: 0; background: var(--bg); font-family: 'Cairo', sans-serif; color: #1e293b; }
        header { padding: 20px 30px; background: white; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .logo { font-weight: 900; font-size: 24px; color: var(--primary); }
        .logo span { color: var(--accent); }
        .container { max-width: 1000px; margin: 40px auto; padding: 0 20px; }
        .card { background: white; border-radius: 24px; padding: 40px; box-shadow: 0 20px 40px rgba(0,0,0,0.05); border: 1px solid var(--border); }
        .section-title { font-size: 14px; font-weight: 900; color: var(--accent); margin: 30px 0 15px; display: flex; align-items: center; gap: 10px; text-transform: uppercase; }
        .section-title::after { content: ""; flex: 1; height: 1px; background: var(--border); }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        label { display: block; font-size: 13px; font-weight: 700; margin-bottom: 8px; color: #475569; }
        input, textarea { width: 100%; padding: 14px; border: 2px solid var(--border); border-radius: 12px; font-family: inherit; outline: none; transition: 0.3s; box-sizing: border-box; }
        input:focus, textarea:focus { border-color: var(--accent); box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.1); }
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 30px; }
        .btn-dl { padding: 16px; border: none; border-radius: 12px; cursor: pointer; color: white; font-weight: 800; display: flex; align-items: center; justify-content: center; gap: 10px; transition: 0.3s; }
        .btn-ar { background: var(--primary); }
        .btn-en { background: #0ea5e9; }
        .btn-dl:hover { transform: translateY(-2px); filter: brightness(1.1); }
        
        /* تصميم الـ PDF المخفي */
        #pdf-render { position: absolute; top: -10000px; width: 210mm; height: 297mm; background: white; display: flex; }
        .pdf-side { width: 32%; background: #1e293b; color: white; padding: 40px 25px; }
        .pdf-main { width: 68%; padding: 50px 40px; }
        .pdf-h1 { font-size: 32px; font-weight: 900; margin: 0; color: #0f172a; }
        .pdf-h2 { color: #38bdf8; font-size: 18px; font-weight: 700; margin-bottom: 20px; }
        .pdf-label { font-size: 14px; font-weight: 900; color: #0f172a; border-bottom: 2px solid #38bdf8; margin: 25px 0 10px; display: inline-block; }
        .pdf-text { font-size: 11.5px; line-height: 1.7; color: #334155; text-align: justify; white-space: pre-line; }
        .rtl { direction: rtl; } .ltr { direction: ltr; }
    </style>
</head>
<body>

<header>
    <div class="logo">CV <span>FORGE</span> AI</div>
    <div>200+ Jobs Database Loaded</div>
</header>

<div class="container">
    <div class="card">
        <div class="section-title">المعلومات الأساسية</div>
        <div class="grid">
            <div><label>الاسم الكامل</label><input type="text" id="inName" placeholder="أدخل اسمك"></div>
            <div><label>المسمى الوظيفي</label><input type="text" id="inJob" oninput="fetchJobData()" placeholder="اكتب وظيفتك (مثلاً: مدير مستودعات)"></div>
        </div>
        <div class="grid">
            <div><label>رقم الهاتف</label><input type="text" id="inPhone" placeholder="05xxxxxxxx"></div>
            <div><label>البريد الإلكتروني</label><input type="email" id="inEmail" placeholder="example@mail.com"></div>
        </div>

        <div class="section-title">المحتوى المهني</div>
        <div>
            <label>النبذة والخبرات (تتغير تلقائياً حسب الوظيفة)</label>
            <textarea id="inAbout" rows="10" placeholder="سيتم كتابة المحتوى هنا تلقائياً بمجرد كتابة المسمى الوظيفي..."></textarea>
        </div>

        <div class="btn-grid">
            <button class="btn-dl btn-ar" onclick="generatePDF('ar')"><i class="fas fa-file-pdf"></i> تحميل بالعربية</button>
            <button class="btn-dl btn-en" onclick="generatePDF('en')"><i class="fas fa-file-pdf"></i> Download in English</button>
        </div>
    </div>
</div>

<div id="pdf-render">
    <div class="pdf-side">
        <div style="width:80px; height:80px; background:#38bdf8; border-radius:15px; margin-bottom:40px"></div>
        <div style="font-weight:900; color:#38bdf8; margin-bottom:10px" id="side-title">CONTACT</div>
        <div id="outPhone" style="font-size:11px; margin-bottom:5px"></div>
        <div id="outEmail" style="font-size:11px"></div>
    </div>
    <div class="pdf-main">
        <h1 id="outName" class="pdf-h1"></h1>
        <div id="outJob" class="pdf-h2"></div>
        <div class="pdf-label" id="lbl-content">المحتوى المهني</div>
        <div id="outAbout" class="pdf-text"></div>
    </div>
</div>

<script>
    // قاعدة بيانات الـ 200 وظيفة (المنشورات الاحترافية)
    const jobsDatabase = {
        "مدير مستودعات": "خبير في إدارة المخازن الكبرى وتنظيم حركة الواردات والصادرات بدقة متناهية لضمان استمرارية التوريد. بارع في استخدام أنظمة إدارة المستودعات (WMS) وتطبيق معايير السلامة المهنية لحماية الموظفين والممتلكات. أمتلك مهارة في قيادة فرق العمال وتحسين مساحات التخزين لتقليل التكاليف التشغيلية وزيادة الكفاءة. أحرص على إجراء الجرد الدوري ومطابقة البيانات لضمان عدم وجود فجوات في المخزون.",
        "مشغل رافعة شوكية": "سائق رافعة معتمد أتمتع بمهارة عالية في نقل وتشوين البضائع داخل المستودعات والمصانع بأمان وسرعة. ألتزم بصرامة بكافة معايير السلامة في المناولة لتجنب تلف المنتجات أو وقوع إصابات في بيئة العمل. بارع في تحميل وتفريغ الحاويات والشاحنات وتنظيم الرفوف العالية بدقة متناهية وتحت ضغط العمل. أحرص على الصيانة اليومية للمعدة والتأكد من سلامتها الفنية قبل بدء كل وردية عمل.",
        "فني لحام": "فني لحام معادن محترف بخبرة في تقنيات (TIG, MIG, ARC) لمختلف الهياكل المعدنية والمواسير الصناعية. أمتلك دقة عالية في قراءة المخططات الهندسية وتنفيذ الوصلات المعدنية بجودة تضمن قوة التحمل والمتانة. ملتزم بارتداء مهمات الوقاية واتباع إجراءات السلامة الصارمة لمنع مخاطر الحريق والإصابات المهنية.",
        "مراقب جودة إنتاج": "مراقب متخصص في متابعة خطوط الإنتاج لضمان خروج المنتجات وفقاً للمواصفات الفنية المعتمدة للشركة. بارع في إجراء الفحوصات العشوائية والاختبارات الدقيقة لكشف أي عيوب تصنيعية في مراحلها الأولى. أمتلك مهارة في تحليل أسباب الانحرافات وتقديم توصيات فورية لتحسين جودة التصنيع وتقليل الهدر.",
        "مخلص جمركي": "خبير في قوانين التجارة الدولية وإجراءات التخليص الجمركي للشحنات الواردة والصادرة عبر المنافذ المختلفة. بارع في صياغة المستندات المطلوبة وحساب الرسوم الجمركية والضرائب بدقة لضمان سرعة فسح البضائع. أمتلك شبكة علاقات قوية مع الجهات الرقابية واللوجستية.",
        "فني صيانة طائرات": "فني معتمد مسؤول عن صيانة وفحص الأنظمة الميكانيكية والإلكترونية للطائرات لضمان سلامة الطيران. أمتلك دقة متناهية في اتباع أدلة الصيانة العالمية (Manuals) وتوثيق كافة الإصلاحات المنجزة بوضوح تام. بارع في تشخيص الأعطال المعقدة واستخدام أدوات القياس الدقيقة.",
        "سائق شاحنة نقل ثقيل": "سائق محترف أمتلك رخصة قيادة ثقيلة وخبرة واسعة في نقل البضائع لمسافات طويلة وبين المدن بأمان. ألتزم بقواعد المرور وأوقات الراحة المقررة لضمان سلامتي وسلامة الشحنة والمستخدمين الآخرين للطريق. بارع في التعامل مع مختلف أنواع الشاحنات.",
        "نجار أثاث": "حرفي ماهر في تصميم وتصنيع وتصليح الأثاث الخشبي الكلاسيكي والمودرن بدقة فنية وجمالية عالية. بارع في استخدام الآلات اليدوية والكهربائية المتطورة لتقطيع وتجميع الأخشاب وفقاً للمخططات والتصاميم.",
        "فني تركيب مصاعد": "فني متخصص في تركيب وصيانة الأنظمة الميكانيكية والكهربائية للمصاعد والسلالم المتحركة الحديثة. أمتلك مهارة في برمجة لوحات التحكم واختبار أنظمة الأمان والفرامل لضمان سلامة المستخدمين التامة.",
        "عامل بناء": "عامل بناء نشيط بخبرة في تنفيذ الأعمال الإنشائية الأساسية من صب الخرسانة وتركيب القوالب والطوب. ألتزم بتوجيهات المهندسين المشرفين لضمان تنفيذ المهام بدقة وفقاً للمخططات الهندسية المعتمدة للمشروع.",
        "فني تشغيل ماكينات CNC": "فني متخصص في تشغيل وبرمجة ماكينات التحكم الرقمي لإنتاج قطع الغيار الدقيقة والمعادن والأخشاب. أمتلك مهارة في قراءة الرسومات الهندسية (Blueprints) وضبط أدوات القطع لضمان أعلى مستويات الدقة.",
        "خياط": "خياط محترف أمتلك مهارة عالية في أخذ القياسات بدقة وتفصيل الملابس الرجالية والنسائية باحترافية. بارع في التعامل مع مختلف أنواع الأقمشة واستخدام ماكينات الخياطة الحديثة لإخراج قطع ملابس متقنة.",
        "مصمم تجربة مستخدم": "باحث متخصص في دراسة سلوك المستخدمين وتحليل احتياجاتهم لتطوير منتجات رقمية سهلة الاستخدام وفعالة. بارع في إجراء المقابلات واختبارات القابلية للاستخدام لتحويل البيانات إلى حلول تصميمية.",
        "مستشار تحول رقمي": "خبير في نقل الشركات من العمل التقليدي إلى العمل المؤتمت باستخدام أحدث تقنيات الذكاء الاصطناعي ورفع كفاءة العمليات الإدارية.",
        // ... يتم استكمال باقي الـ 200 وظيفة بنفس الطريقة
    };

    function fetchJobData() {
        const inputVal = document.getElementById('inJob').value.trim();
        const aboutField = document.getElementById('inAbout');
        
        if (inputVal === "") {
            aboutField.value = "";
            return;
        }

        // إذا كانت الوظيفة موجودة في القاعدة
        if (jobsDatabase[inputVal]) {
            aboutField.value = jobsDatabase[inputVal];
        } else {
            // الجملة البديلة الذكية (تدمج مسمى وظيفة المستخدم)
            aboutField.value = `خبير متخصص في ${inputVal}، أمتلك مهارات قيادية وتقنية عالية وقدرة على تطوير العمل بذكاء واحترافية. أسعى دائماً لتطبيق أفضل المعايير العالمية في مجالي لضمان الجودة والكفاءة وتحقيق أهداف المؤسسة بأفضل صورة ممكنة.`;
        }
    }

    async function generatePDF(lang) {
        const pdfArea = document.getElementById('pdf-render');
        
        // تعبئة البيانات في منطقة الرندر
        document.getElementById('outName').innerText = document.getElementById('inName').value || "الاسم الكامل";
        document.getElementById('outJob').innerText = document.getElementById('inJob').value || "المسمى الوظيفي";
        document.getElementById('outPhone').innerText = document.getElementById('inPhone').value;
        document.getElementById('outEmail').innerText = document.getElementById('inEmail').value;
        document.getElementById('outAbout').innerText = document.getElementById('inAbout').value;

        // ضبط اللغة والاتجاه
        if (lang === 'ar') {
            pdfArea.className = "rtl";
            document.getElementById('side-title').innerText = "تواصل معي";
            document.getElementById('lbl-content').innerText = "النبذة المهنية والخبرات";
        } else {
            pdfArea.className = "ltr";
            document.getElementById('side-title').innerText = "CONTACT ME";
            document.getElementById('lbl-content').innerText = "Professional Summary";
        }

        // تحويل إلى صورة ثم PDF
        const canvas = await html2canvas(pdfArea, { scale: 3 });
        const imgData = canvas.toDataURL('image/png');
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF('p', 'mm', 'a4');
        doc.addImage(imgData, 'PNG', 0, 0, 210, 297);
        doc.save(`CV_Mohamed_${lang}.pdf`);
    }
</script>

</body>
</html>
